{% extends 'base.html' %}

{% block title %}‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à - Boonyisa Hotel{% endblock %}

{% block content %}
  <main class="container my-5">
	<div class="text-center success-container">
	  <div class="success-icon">‚úÖ</div>
	  <h1 class="mb-2">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h1>
	  <p class="lead text-muted mb-4">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ Boonyisa Hotel</p>

	  <div class="card p-4 mx-auto" style="max-width:600px;">
		<h5 class="mb-4">üìã ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</h5>

		<div class="info-box">
		  <h6 class="mb-2" style="color:#cfeeff">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å</h6>
		  <div class="price-row"><span>‡∏ä‡∏∑‡πà‡∏≠:</span><strong>{{ payment_info.full_name }}</strong></div>
		  <div class="price-row"><span>‡∏≠‡∏µ‡πÄ‡∏°‡∏•:</span><strong>{{ payment_info.email }}</strong></div>
		</div>

		<h6 class="mt-4 mb-3" style="color:#cfeeff">‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á</h6>
		{% for booking in bookings %}
		<div class="booking-info">
		  <h6 class="mb-2">{{ loop.index }}. {{ booking.room_name }}</h6>
		  <div class="price-row small"><span>‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å:</span><span>üìÖ {{ booking.check_in|format_date }}</span></div>
		  <div class="price-row small"><span>‡∏≠‡∏≠‡∏Å‡∏û‡∏±‡∏Å:</span><span>üìÖ {{ booking.check_out|format_date }}</span></div>
		  <div class="price-row small"><span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏∑‡∏ô:</span><span>{{ booking.nights }} ‡∏Ñ‡∏∑‡∏ô</span></div>
		  <div class="price-row small"><span>‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏Ñ‡∏∑‡∏ô:</span><span class="text-success">‡∏ø{{ '%.2f'|format(booking.price_per_night) }}</span></div>
		  <div class="price-row small" style="border-top:1px solid rgba(255,255,255,0.05);padding-top:10px;margin-top:10px;font-weight:bold;"><span>‡∏£‡∏ß‡∏°:</span><span class="text-success">‡∏ø{{ '%.2f'|format(booking.total) }}</span></div>
		</div>
		{% endfor %}

		<div style="background:rgba(0,212,255,0.15);padding:20px;border-radius:8px;margin:30px 0;border:1px solid rgba(0,212,255,0.3);">
		  <h4 style="color:var(--neon);margin:0">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô</h4>
		  <div style="font-size:32px;font-weight:bold;color:var(--neon);margin-top:10px">‡∏ø{{ '%.2f'|format(payment_info.total_price) }}</div>
		</div>

		<div class="alert alert-info" role="alert"><strong>üìß ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à:</strong> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á {{ payment_info.email }}</div>

		<div class="d-grid gap-2 mt-4">
		  <a href="{{ url_for('index') }}" class="btn btn-primary btn-lg">üè® ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
		  <form method="POST" action="{{ url_for('clear_bookings') }}" style="display:inline;"><button type="submit" class="btn btn-outline-secondary w-100">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button></form>
		</div>

		<div class="mt-4 p-3" style="background:rgba(255,255,255,0.02);border-radius:8px;border-left:4px solid var(--neon);">
		  <h6 style="color:#cfeeff;margin-bottom:10px">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</h6>
		  <small>
			<strong>‡πÄ‡∏•‡∏Ç‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á:</strong> BK-{{ session.session_id[:8] if session.session_id else 'XXXX' }}-{{ '%04d' % payment_info.booking_count }}<br>
			<strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> <span style="color:var(--neon)">{{ payment_info.status | upper }}</span><br>
			<strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô:</strong> {{ now.strftime('%d/%m/%Y %H:%M') if now else 'Feb 23, 2026' }}<br>
			<strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡πâ‡∏≠‡∏á:</strong> {{ payment_info.booking_count }} ‡∏´‡πâ‡∏≠‡∏á
		  </small>
		</div>
	  </div>
	</div>
  </main>
{% endblock %}
